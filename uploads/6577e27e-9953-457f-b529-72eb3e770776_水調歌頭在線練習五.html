<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ°´èª¿æ­Œé ­åœ¨ç·šç·´ç¿’äº”</title>
    <style>
        body {
            font-family: "Microsoft YaHei", "SimSun", serif;
            line-height: 1.6;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f9f9f9;
        }
        
        .container {
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .header {
            text-align: center;
            border-bottom: 2px solid #333;
            padding-bottom: 15px;
            margin-bottom: 25px;
        }
        
        .header h1 {
            font-size: 24px;
            color: #333;
            margin: 0;
        }
        
        .score-display {
            text-align: right;
            font-weight: bold;
            margin-bottom: 20px;
            font-size: 16px;
            color: #007acc;
        }
        
        .instruction {
            background-color: #f5f5f5;
            padding: 15px;
            border-left: 4px solid #007acc;
            margin-bottom: 25px;
            font-size: 14px;
        }
        
        .poem {
            background-color: #fafafa;
            border: 1px solid #ddd;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            font-size: 18px;
            line-height: 2;
        }
        
        .poem .content {
            font-weight: bold;
            margin-bottom: 15px;
        }
        
        .poem .author {
            font-style: italic;
            color: #666;
            font-size: 16px;
        }
        
        .notes {
            background-color: #f9f9f9;
            border: 1px solid #e0e0e0;
            padding: 15px;
            margin: 20px 0;
            font-size: 14px;
        }
        
        .notes h3 {
            margin-top: 0;
            color: #333;
            font-size: 16px;
        }
        
        .question {
            margin: 25px 0;
            padding: 15px;
            border-left: 3px solid #007acc;
            background-color: #fafafa;
        }
        
        .question-number {
            font-weight: bold;
            font-size: 16px;
            color: #007acc;
            margin-bottom: 10px;
        }
        
        .sub-question {
            margin: 15px 0;
            padding-left: 20px;
        }
        
        .input-field {
            border: 2px solid #ddd;
            padding: 8px 12px;
            font-size: 14px;
            border-radius: 4px;
            min-width: 150px;
            font-family: inherit;
            transition: border-color 0.3s;
        }
        
        .input-field:focus {
            outline: none;
            border-color: #007acc;
        }
        
        .input-field.correct {
            border-color: #28a745;
            background-color: #d4edda;
        }
        
        .input-field.incorrect {
            border-color: #dc3545;
            background-color: #f8d7da;
        }
        
        .points {
            color: #666;
            font-weight: bold;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        
        table, th, td {
            border: 1px solid #333;
        }
        
        th, td {
            padding: 12px;
            text-align: center;
            vertical-align: middle;
        }
        
        th {
            background-color: #f5f5f5;
            font-weight: bold;
        }
        
        .options {
            margin: 10px 0;
            padding-left: 20px;
        }
        
        .option {
            margin: 8px 0;
            padding: 8px;
            cursor: pointer;
            border-radius: 4px;
            transition: background-color 0.3s;
        }
        
        .option:hover {
            background-color: #e9ecef;
        }
        
        .option input[type="radio"] {
            margin-right: 8px;
        }
        
        .option.correct {
            background-color: #d4edda;
            border: 2px solid #28a745;
        }
        
        .option.incorrect {
            background-color: #f8d7da;
            border: 2px solid #dc3545;
        }
        
        .bold {
            font-weight: bold;
        }
        
        .separator {
            border-top: 1px solid #ccc;
            margin: 25px 0;
        }
        
        .control-buttons {
            text-align: center;
            margin: 30px 0;
        }
        
        .btn {
            background-color: #007acc;
            color: white;
            border: none;
            padding: 12px 24px;
            font-size: 16px;
            border-radius: 5px;
            cursor: pointer;
            margin: 0 10px 10px 10px;
            transition: background-color 0.3s;
        }
        
        .btn:hover {
            background-color: #005a9e;
        }
        
        .btn:disabled {
            background-color: #6c757d;
            cursor: not-allowed;
        }
        
        .btn-secondary {
            background-color: #6c757d;
        }
        
        .btn-secondary:hover {
            background-color: #545b62;
        }
        
        .btn-success {
            background-color: #28a745;
        }
        
        .btn-success:hover {
            background-color: #218838;
        }
        
        .btn-info {
            background-color: #17a2b8;
        }
        
        .btn-info:hover {
            background-color: #138496;
        }
        
        .feedback {
            margin-top: 20px;
            padding: 15px;
            border-radius: 5px;
            font-weight: bold;
        }
        
        .feedback.excellent {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .feedback.good {
            background-color: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }
        
        .feedback.needs-improvement {
            background-color: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }
        
        .feedback.poor {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .hidden {
            display: none;
        }
        
        .result-summary {
            background-color: #e8f4fd;
            border: 1px solid #b3d9ff;
            padding: 20px;
            margin-top: 20px;
            border-radius: 5px;
        }
        
        .result-summary h3 {
            color: #0066cc;
            margin-top: 0;
        }
        
        .answer-section {
            background-color: #fff8e1;
            border: 2px solid #ffb74d;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }
        
        .answer-section h3 {
            color: #e65100;
            margin-top: 0;
        }
        
        .answer-section h4 {
            color: #ff6f00;
            margin-top: 15px;
            margin-bottom: 8px;
            border-bottom: 1px solid #ffb74d;
            padding-bottom: 5px;
        }
        
        .answer-section ul {
            margin: 10px 0;
            padding-left: 25px;
        }
        
        .answer-section li {
            margin: 8px 0;
            line-height: 1.6;
        }
        
        .answer-section strong {
            color: #d84315;
        }
        
        .student-info {
            background-color: #f8f9fa;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 5px;
            border: 1px solid #dee2e6;
        }
        
        .student-info input {
            margin: 5px 10px;
            padding: 5px;
            border: 1px solid #ccc;
            border-radius: 3px;
        }
        
        .preview-modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }
        
        .preview-content {
            background-color: white;
            margin: 2% auto;
            padding: 20px;
            border-radius: 8px;
            width: 90%;
            max-width: 800px;
            max-height: 90%;
            overflow-y: auto;
        }
        
        .preview-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            border-bottom: 2px solid #007acc;
            padding-bottom: 10px;
        }
        
        .close-btn {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #999;
        }
        
        .close-btn:hover {
            color: #333;
        }
        
        @media print {
            .control-buttons, .student-info, .preview-modal {
                display: none;
            }
            
            body {
                background-color: white;
            }
            
            .container {
                box-shadow: none;
            }
        }
        
        @media (max-width: 768px) {
            .btn {
                display: block;
                width: 100%;
                margin: 5px 0;
            }
            
            .input-field {
                min-width: 100px;
                width: 100%;
                margin: 5px 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>æ°´èª¿æ­Œé ­åœ¨ç·šç·´ç¿’äº”</h1>
        </div>
        
        <div class="student-info">
            <label>å­¸ç”Ÿå§“åï¼š<input type="text" id="studentName" placeholder="è«‹è¼¸å…¥æ‚¨çš„å§“å"></label>
            <label>ç­ç´šï¼š<input type="text" id="studentClass" placeholder="è«‹è¼¸å…¥ç­ç´š"></label>
            <label>å­¸è™Ÿï¼š<input type="text" id="studentId" placeholder="è«‹è¼¸å…¥å­¸è™Ÿ"></label>
        </div>
        
        <div class="score-display">
            ç¸½åˆ†ï¼š20åˆ† | ç•¶å‰å¾—åˆ†ï¼š<span id="currentScore">0</span>åˆ† | å®Œæˆé€²åº¦ï¼š<span id="progress">0</span>%
        </div>
        
        <div class="instruction">
            è©¦è¾¨è­˜ä»¥ç²—é»‘é«”æ¨™ç¤ºçš„å¥å­é‹ç”¨äº†å“ªç¨®ä¿®è¾­æ‰‹æ³•ï¼Œä¸¦å®Œæˆé–±è®€ç†è§£é¡Œç›®ã€‚ï¼ˆå¦‚ä¿®è¾­æ‰‹æ³•å¯ç´°åˆ†ç‚ºä¸åŒé¡åˆ¥ï¼Œç­”æ¡ˆå¿…é ˆè¨»æ˜å…¶åˆ†é¡ï¼Œå¦‚æ˜å–»ã€æš—å–»ã€åè¥¯ç­‰ï¼‰
        </div>
        
        <div class="poem">
            <div class="content">
                <span class="bold">æ˜æœˆå¹¾æ™‚æœ‰ï¼ŸæŠŠé…’å•é’å¤©ã€‚ä¸çŸ¥å¤©ä¸Šå®®é—•ï¼Œä»Šå¤•æ˜¯ä½•å¹´ã€‚æˆ‘æ¬²ä¹˜é¢¨æ­¸å»ï¼Œåˆæç“Šæ¨“ç‰å®‡ï¼Œé«˜è™•ä¸å‹å¯’ã€‚èµ·èˆå¼„æ¸…å½±ï¼Œä½•ä¼¼åœ¨äººé–“ï¼</span><br><br>
                <span class="bold">è½‰æœ±é–£ï¼Œä½ç¶ºæˆ¶ï¼Œç…§ç„¡çœ ã€‚ä¸æ‡‰æœ‰æ¨ï¼Œä½•äº‹é•·å‘åˆ¥æ™‚åœ“ï¼Ÿäººæœ‰æ‚²æ­¡é›¢åˆï¼Œæœˆæœ‰é™°æ™´åœ“ç¼ºï¼Œæ­¤äº‹å¤é›£å…¨ã€‚ä½†é¡˜äººé•·ä¹…ï¼Œåƒé‡Œå…±å¬‹å¨Ÿã€‚</span>
            </div>
            <div class="author">ï¼ˆè˜‡è»¾ã€Šæ°´èª¿æ­Œé ­ã€‹ï¼‰</div>
        </div>
        
        <div class="notes">
            <h3>ã€è¨»é‡‹ã€‘</h3>
            (1) æŠŠé…’å•é’å¤©ï¼šç«¯èµ·é…’æ¯å‘é’å¤©ç™¼å•ã€‚(2) å®®é—•ï¼šå®®æ®¿ã€‚(3) ç“Šæ¨“ç‰å®‡ï¼šç¾ç‰ç Œæˆçš„æ¨“å®‡ï¼ŒæŒ‡æœˆä¸­å®®æ®¿ã€‚(4) ä½•ä¼¼ï¼šå“ªè£¡æ¯”å¾—ä¸Šã€‚(5) ç¶ºæˆ¶ï¼šé›•èŠ±çš„çª—æˆ¶ã€‚(6) å¬‹å¨Ÿï¼šæŒ‡æœˆäº®ã€‚
        </div>
        
        <div class="separator"></div>
        
        <div class="question">
            <div class="question-number">1. ä¿®è¾­æ‰‹æ³•è¾¨è­˜é¡Œ</div>
            <div class="sub-question">
                â‘  <span class="bold">ã€Œæ˜æœˆå¹¾æ™‚æœ‰ï¼ŸæŠŠé…’å•é’å¤©ã€</span>ä¸€å¥ç”¨äº†
                <input type="text" class="input-field" id="q1a" placeholder="è«‹å¡«å…¥ä¿®è¾­æ‰‹æ³•">
                ä¿®è¾­æ‰‹æ³•ã€‚<span class="points">ï¼ˆ2åˆ†ï¼‰</span>
            </div>
            <div class="sub-question">
                â‘¡ <span class="bold">ã€Œäººæœ‰æ‚²æ­¡é›¢åˆï¼Œæœˆæœ‰é™°æ™´åœ“ç¼ºã€</span>ä¸€å¥ç”¨äº†
                <input type="text" class="input-field" id="q1b" placeholder="è«‹å¡«å…¥ä¿®è¾­æ‰‹æ³•">
                ä¿®è¾­æ‰‹æ³•ã€‚<span class="points">ï¼ˆ2åˆ†ï¼‰</span>
            </div>
            <div class="sub-question">
                â‘¢ <span class="bold">ã€Œåˆæç“Šæ¨“ç‰å®‡ï¼Œé«˜è™•ä¸å‹å¯’ã€</span>ä¸€å¥ç”¨äº†
                <input type="text" class="input-field" id="q1c" placeholder="è«‹å¡«å…¥ä¿®è¾­æ‰‹æ³•">
                ä¿®è¾­æ‰‹æ³•ã€‚<span class="points">ï¼ˆ2åˆ†ï¼‰</span>
            </div>
        </div>
        
        <div class="separator"></div>
        
        <div class="question">
            <div class="question-number">2. æœ¬è©å¯åˆ†ç‚ºä¸Šä¸‹å…©ç‰‡ï¼Œå„æœ‰ä¸åŒçš„å…§å®¹é‡é»ï¼Œè©¦æ‘˜éŒ„ç›¸é—œè©å¥ï¼Œå®Œæˆä¸‹è¡¨ã€‚<span class="points">ï¼ˆ8åˆ†ï¼‰</span></div>
            
            <table>
                <tr>
                    <th>ç‰‡æ¬¡</th>
                    <th>è©å¥ç¯„åœ</th>
                    <th>ä¸»è¦å…§å®¹</th>
                </tr>
                <tr>
                    <td>ä¸Šç‰‡</td>
                    <td>
                        <input type="text" class="input-field" id="q2a1" placeholder="èµ·å§‹å¥" style="width: 120px;">
                        è‡³
                        <input type="text" class="input-field" id="q2a2" placeholder="çµæŸå¥" style="width: 120px;">
                    </td>
                    <td>å•æœˆã€æœ›æœˆï¼Œè¡¨é”
                        <input type="text" class="input-field" id="q2a3" placeholder="ä¸»è¦æƒ…æ„Ÿ" style="width: 150px;">
                        <br><span class="points">ï¼ˆ4åˆ†ï¼‰</span>
                    </td>
                </tr>
                <tr>
                    <td>ä¸‹ç‰‡</td>
                    <td>
                        <input type="text" class="input-field" id="q2b1" placeholder="èµ·å§‹å¥" style="width: 120px;">
                        è‡³
                        <input type="text" class="input-field" id="q2b2" placeholder="çµæŸå¥" style="width: 120px;">
                    </td>
                    <td>æ‡·äººã€ç¥é¡˜ï¼Œé«”ç¾
                        <input type="text" class="input-field" id="q2b3" placeholder="ä¸»è¦æ€æƒ³" style="width: 150px;">
                        <br><span class="points">ï¼ˆ4åˆ†ï¼‰</span>
                    </td>
                </tr>
            </table>
        </div>
        
        <div class="separator"></div>
        
        <div class="question">
            <div class="question-number">3. ã€Œæˆ‘æ¬²ä¹˜é¢¨æ­¸å»ï¼Œåˆæç“Šæ¨“ç‰å®‡ï¼Œé«˜è™•ä¸å‹å¯’ã€é€™ä¸‰å¥é«”ç¾äº†è©äººæ€æ¨£çš„å¿ƒç†è®ŠåŒ–ï¼Ÿ<span class="points">ï¼ˆ2åˆ†ï¼‰</span></div>
            <div class="options">
                <div class="option" onclick="selectOption('q3', 'A')">
                    <input type="radio" name="q3" value="A" id="q3A">
                    <label for="q3A">A. å¾æ¸´æœ›è¶…è„«åˆ°å®³æ€•å­¤ç¨ï¼Œæœ€çµ‚é¸æ“‡ç•™åœ¨äººé–“ã€‚</label>
                </div>
                <div class="option" onclick="selectOption('q3', 'B')">
                    <input type="radio" name="q3" value="B" id="q3B">
                    <label for="q3B">B. å¾æ†‚æ„ç…©æ‚¶åˆ°è±é”é–‹æœ—ï¼Œè¡¨ç¾ç‘è„«çš„äººç”Ÿæ…‹åº¦ã€‚</label>
                </div>
                <div class="option" onclick="selectOption('q3', 'C')">
                    <input type="radio" name="q3" value="C" id="q3C">
                    <label for="q3C">C. å¾æ€å¿µå¼Ÿå¼Ÿåˆ°å¯„æƒ…å±±æ°´ï¼Œé«”ç¾å°ç¾å¯¦çš„é€ƒé¿ã€‚</label>
                </div>
                <div class="option" onclick="selectOption('q3', 'D')">
                    <input type="radio" name="q3" value="D" id="q3D">
                    <label for="q3D">D. å¾å¹»æƒ³ä»™å¢ƒåˆ°å›æ­¸ç¾å¯¦ï¼Œå±•ç¾çŸ›ç›¾è¤‡é›œçš„å¿ƒæƒ…ã€‚</label>
                </div>
            </div>
        </div>
        
        <div class="separator"></div>
        
        <div class="question">
            <div class="question-number">4. å…¨è©çš„ä¸»æ—¨æ˜¯ï¼š<span class="points">ï¼ˆ2åˆ†ï¼‰</span></div>
            <div class="options">
                <div class="option" onclick="selectOption('q4', 'A')">
                    <input type="radio" name="q4" value="A" id="q4A">
                    <label for="q4A">A. è®šç¾ä¸­ç§‹æ˜æœˆçš„ç¾å¥½æ™¯è‰²ã€‚</label>
                </div>
                <div class="option" onclick="selectOption('q4', 'B')">
                    <input type="radio" name="q4" value="B" id="q4B">
                    <label for="q4B">B. è¡¨é”å°å¼Ÿå¼Ÿçš„æ€å¿µå’Œäººç”Ÿçš„æ„Ÿæ‚Ÿã€‚</label>
                </div>
                <div class="option" onclick="selectOption('q4', 'C')">
                    <input type="radio" name="q4" value="C" id="q4C">
                    <label for="q4C">C. æŠ’ç™¼ä»•é€”å¤±æ„çš„è‹¦æ‚¶å¿ƒæƒ…ã€‚</label>
                </div>
                <div class="option" onclick="selectOption('q4', 'D')">
                    <input type="radio" name="q4" value="D" id="q4D">
                    <label for="q4D">D. è¿½æ±‚è¶…è„«ä¸–ä¿—çš„ç†æƒ³å¢ƒç•Œã€‚</label>
                </div>
            </div>
        </div>
        
        <div class="separator"></div>
        
        <div class="question">
            <div class="question-number">5. ã€Œä½†é¡˜äººé•·ä¹…ï¼Œåƒé‡Œå…±å¬‹å¨Ÿã€é€™å…©å¥è¡¨é”äº†æ€æ¨£çš„æƒ…æ„Ÿå’Œé¡˜æœ›ï¼Ÿè©¦çµåˆå…¨è©åˆ†æå…¶æ„ç¾©ã€‚<span class="points">ï¼ˆ4åˆ†ï¼‰</span></div>
            <div class="sub-question">
                æƒ…æ„Ÿè¡¨é”ï¼š<input type="text" class="input-field" id="q5a" placeholder="è¡¨é”äº†ä»€éº¼æƒ…æ„Ÿ" style="min-width: 300px;">
            </div>
            <div class="sub-question">
                æ·±å±¤æ„ç¾©ï¼š<input type="text" class="input-field" id="q5b" placeholder="åœ¨å…¨è©ä¸­çš„æ·±å±¤å«ç¾©" style="min-width: 300px;">
            </div>
        </div>
        
        <div class="control-buttons">
            <button class="btn" onclick="checkAnswers()">ğŸ“ æª¢æŸ¥ç­”æ¡ˆ</button>
            <button class="btn btn-secondary" onclick="resetForm()">ğŸ”„ é‡æ–°ä½œç­”</button>
            <button class="btn btn-success" onclick="showStandardAnswers()" id="showAnswersBtn" disabled>ğŸ“– é¡¯ç¤ºæ¨™æº–ç­”æ¡ˆ</button>
            <button class="btn btn-info" onclick="previewResults()">ğŸ‘ï¸ é è¦½çµæœ</button>
            <button class="btn" onclick="downloadResults()">ğŸ’¾ ä¸‹è¼‰çµæœ</button>
            <button class="btn" onclick="printResults()">ğŸ–¨ï¸ æ‰“å°çµæœ</button>
        </div>
        
        <div id="feedback" class="feedback hidden"></div>
        
        <div id="resultSummary" class="result-summary hidden">
            <h3>ä½œç­”çµæœç¸½çµ</h3>
            <div id="detailedResults"></div>
        </div>
        
        <div id="standardAnswers" class="answer-section hidden">
            <h3>ğŸ“š æ¨™æº–ç­”æ¡ˆ</h3>
            <h4>ç¬¬1é¡Œ ä¿®è¾­æ‰‹æ³•è¾¨è­˜ï¼š</h4>
            <ul>
                <li>â‘  ã€Œæ˜æœˆå¹¾æ™‚æœ‰ï¼ŸæŠŠé…’å•é’å¤©ã€ï¼š<strong>è¨­å•</strong></li>
                <li>â‘¡ ã€Œäººæœ‰æ‚²æ­¡é›¢åˆï¼Œæœˆæœ‰é™°æ™´åœ“ç¼ºã€ï¼š<strong>å°å¶</strong></li>
                <li>â‘¢ ã€Œåˆæç“Šæ¨“ç‰å®‡ï¼Œé«˜è™•ä¸å‹å¯’ã€ï¼š<strong>å€Ÿä»£</strong>ï¼ˆç“Šæ¨“ç‰å®‡ä»£æŒ‡æœˆå®®ï¼‰</li>
            </ul>
            
            <h4>ç¬¬2é¡Œ çµæ§‹åˆ†æï¼š</h4>
            <ul>
                <li><strong>ä¸Šç‰‡</strong>ï¼šã€Œæ˜æœˆå¹¾æ™‚æœ‰ã€è‡³ã€Œä½•ä¼¼åœ¨äººé–“ã€â€” å•æœˆã€æœ›æœˆï¼Œè¡¨é”<strong>è¶…è„«èˆ‡çœ·æˆ€çš„çŸ›ç›¾</strong></li>
                <li><strong>ä¸‹ç‰‡</strong>ï¼šã€Œè½‰æœ±é–£ã€è‡³ã€Œåƒé‡Œå…±å¬‹å¨Ÿã€â€” æ‡·äººã€ç¥é¡˜ï¼Œé«”ç¾<strong>è±é”æ¨‚è§€çš„äººç”Ÿæ…‹åº¦</strong></li>
            </ul>
            
            <h4>ç¬¬3é¡Œ å¿ƒç†è®ŠåŒ–ï¼š</h4>
            <p><strong>A. å¾æ¸´æœ›è¶…è„«åˆ°å®³æ€•å­¤ç¨ï¼Œæœ€çµ‚é¸æ“‡ç•™åœ¨äººé–“ã€‚</strong></p>
            
            <h4>ç¬¬4é¡Œ ä¸»æ—¨ç†è§£ï¼š</h4>
            <p><strong>B. è¡¨é”å°å¼Ÿå¼Ÿçš„æ€å¿µå’Œäººç”Ÿçš„æ„Ÿæ‚Ÿã€‚</strong></p>
            
            <h4>ç¬¬5é¡Œ æƒ…æ„Ÿåˆ†æï¼š</h4>
            <ul>
                <li><strong>æƒ…æ„Ÿè¡¨é”</strong>ï¼šå°è¦ªäººçš„æ·±åˆ‡æ€å¿µå’Œç¾å¥½ç¥é¡˜ï¼Œé«”ç¾è±é”æ¨‚è§€çš„äººç”Ÿæ…‹åº¦</li>
                <li><strong>æ·±å±¤æ„ç¾©</strong>ï¼šè¶…è¶Šå€‹äººé›¢æ„ï¼Œæ˜‡è¯ç‚ºå°å¤©ä¸‹æ‰€æœ‰é›¢åˆ¥ä¹‹äººçš„å…±åŒç¥ç¦ï¼Œé«”ç¾è©äººçš„åšå¤§èƒ¸æ‡·</li>
            </ul>
            
            <button class="btn btn-secondary" onclick="hideStandardAnswers()">éš±è—æ¨™æº–ç­”æ¡ˆ</button>
        </div>
    </div>
    
    <!-- é è¦½æ¨¡æ…‹æ¡† -->
    <div id="previewModal" class="preview-modal">
        <div class="preview-content">
            <div class="preview-header">
                <h3>ğŸ“‹ ç·´ç¿’çµæœé è¦½</h3>
                <button class="close-btn" onclick="closePreview()">&times;</button>
            </div>
            <div id="previewContent"></div>
        </div>
    </div>

    <script>
        // æ¨™æº–ç­”æ¡ˆ
        const standardAnswers = {
            q1a: ['è¨­å•'],
            q1b: ['å°å¶'],
            q1c: ['å€Ÿä»£'],
            q2a1: ['æ˜æœˆå¹¾æ™‚æœ‰'],
            q2a2: ['ä½•ä¼¼åœ¨äººé–“'],
            q2a3: ['è¶…è„«èˆ‡çœ·æˆ€çš„çŸ›ç›¾', 'çŸ›ç›¾å¿ƒç†', 'å¾˜å¾Š'],
            q2b1: ['è½‰æœ±é–£'],
            q2b2: ['åƒé‡Œå…±å¬‹å¨Ÿ'],
            q2b3: ['è±é”æ¨‚è§€çš„äººç”Ÿæ…‹åº¦', 'æ¨‚è§€', 'è±é”'],
            q3: 'A',
            q4: 'B',
            q5a: ['å°è¦ªäººçš„æ·±åˆ‡æ€å¿µå’Œç¾å¥½ç¥é¡˜ï¼Œé«”ç¾è±é”æ¨‚è§€çš„äººç”Ÿæ…‹åº¦', 'æ€å¿µ', 'ç¥é¡˜', 'è±é”'],
            q5b: ['è¶…è¶Šå€‹äººé›¢æ„ï¼Œæ˜‡è¯ç‚ºå°å¤©ä¸‹æ‰€æœ‰é›¢åˆ¥ä¹‹äººçš„å…±åŒç¥ç¦ï¼Œé«”ç¾è©äººçš„åšå¤§èƒ¸æ‡·', 'æ˜‡è¯', 'åšå¤§èƒ¸æ‡·', 'å…±åŒç¥ç¦']
        };

        // åˆ†æ•¸åˆ†é…
        const pointsMap = {
            q1a: 2, q1b: 2, q1c: 2,
            q2a1: 1, q2a2: 1, q2a3: 2, q2b1: 1, q2b2: 1, q2b3: 2,
            q3: 2, q4: 2,
            q5a: 2, q5b: 2
        };

        let hasChecked = false;
        let currentScore = 0;
        let detailedResults = {};

        function selectOption(questionName, value) {
            document.getElementById(questionName + value).checked = true;
            updateProgress();
        }

        function checkAnswer(inputId, answerArray) {
            const input = document.getElementById(inputId);
            if (!input) return false;
            
            const userAnswer = input.value.trim();
            if (!userAnswer) return false;
            
            // æ¨¡ç³ŠåŒ¹é…ï¼Œæª¢æŸ¥æ˜¯å¦åŒ…å«é—œéµè©
            return answerArray.some(answer => 
                userAnswer.includes(answer) || answer.includes(userAnswer) ||
                userAnswer.toLowerCase().includes(answer.toLowerCase()) ||
                answer.toLowerCase().includes(userAnswer.toLowerCase())
            );
        }

        function checkAnswers() {
            console.log("é–‹å§‹æª¢æŸ¥ç­”æ¡ˆ...");
            
            let score = 0;
            let results = {};

            // æª¢æŸ¥å¡«ç©ºé¡Œç­”æ¡ˆ
            for (let questionId of Object.keys(standardAnswers)) {
                if (questionId !== 'q3' && questionId !== 'q4') { // q3å’Œq4æ˜¯é¸æ“‡é¡Œï¼Œå–®ç¨è™•ç†
                    const isCorrect = checkAnswer(questionId, standardAnswers[questionId]);
                    results[questionId] = isCorrect;
                    
                    const element = document.getElementById(questionId);
                    if (element) {
                        if (isCorrect) {
                            score += pointsMap[questionId];
                            element.classList.add('correct');
                            element.classList.remove('incorrect');
                        } else {
                            element.classList.add('incorrect');
                            element.classList.remove('correct');
                        }
                    }
                }
            }

            // æª¢æŸ¥é¸æ“‡é¡Œq3
            const q3Selected = document.querySelector('input[name="q3"]:checked');
            if (q3Selected && q3Selected.value === standardAnswers.q3) {
                score += pointsMap.q3;
                results.q3 = true;
                q3Selected.parentElement.classList.add('correct');
                q3Selected.parentElement.classList.remove('incorrect');
            } else {
                results.q3 = false;
                if (q3Selected) {
                    q3Selected.parentElement.classList.add('incorrect');
                }
                // é¡¯ç¤ºæ­£ç¢ºç­”æ¡ˆ
                const correctOption = document.querySelector(`#q3${standardAnswers.q3}`);
                if (correctOption) {
                    correctOption.parentElement.classList.add('correct');
                }
            }

            // æª¢æŸ¥é¸æ“‡é¡Œq4
            const q4Selected = document.querySelector('input[name="q4"]:checked');
            if (q4Selected && q4Selected.value === standardAnswers.q4) {
                score += pointsMap.q4;
                results.q4 = true;
                q4Selected.parentElement.classList.add('correct');
                q4Selected.parentElement.classList.remove('incorrect');
            } else {
                results.q4 = false;
                if (q4Selected) {
                    q4Selected.parentElement.classList.add('incorrect');
                }
                // é¡¯ç¤ºæ­£ç¢ºç­”æ¡ˆ
                const correctOption = document.querySelector(`#q4${standardAnswers.q4}`);
                if (correctOption) {
                    correctOption.parentElement.classList.add('correct');
                }
            }

            // æ›´æ–°é¡¯ç¤º
            currentScore = score;
            detailedResults = results;
            
            document.getElementById('currentScore').textContent = score;
            document.getElementById('progress').textContent = Math.round((score / 20) * 100);

            // é¡¯ç¤ºåé¥‹
            showFeedback(score);
            showDetailedResults(results, score);
            
            hasChecked = true;
            document.getElementById('showAnswersBtn').disabled = false;
            
            console.log("æª¢æŸ¥å®Œæˆï¼Œå¾—åˆ†ï¼š", score);
        }

        function showStandardAnswers() {
            console.log("é¡¯ç¤ºæ¨™æº–ç­”æ¡ˆ");
            
            if (!hasChecked) {
                alert('è«‹å…ˆæª¢æŸ¥ç­”æ¡ˆï¼');
                return;
            }
            
            const answerSection = document.getElementById('standardAnswers');
            if (answerSection) {
                answerSection.classList.remove('hidden');
                answerSection.scrollIntoView({ behavior: 'smooth' });
            }
        }

        function hideStandardAnswers() {
            const answerSection = document.getElementById('standardAnswers');
            if (answerSection) {
                answerSection.classList.add('hidden');
            }
        }

        function showFeedback(score) {
            const feedback = document.getElementById('feedback');
            const percentage = (score / 20) * 100;
            
            feedback.classList.remove('hidden', 'excellent', 'good', 'needs-improvement', 'poor');
            
            if (percentage >= 90) {
                feedback.classList.add('excellent');
                feedback.innerHTML = `ğŸ‰ å„ªç§€ï¼æ‚¨ç²å¾—äº† ${score}/20 åˆ†ï¼ˆ${percentage.toFixed(1)}%ï¼‰ã€‚æ‚¨å°è˜‡è»¾è©ä½œçš„ç†è§£å¾ˆæ·±åˆ»ï¼`;
            } else if (percentage >= 75) {
                feedback.classList.add('good');
                feedback.innerHTML = `ğŸ‘ è‰¯å¥½ï¼æ‚¨ç²å¾—äº† ${score}/20 åˆ†ï¼ˆ${percentage.toFixed(1)}%ï¼‰ã€‚ç¹¼çºŒåŠ æ²¹ï¼Œæ‚¨å·²ç¶“æŒæ¡äº†å¤§éƒ¨åˆ†å…§å®¹ï¼`;
            } else if (percentage >= 60) {
                feedback.classList.add('needs-improvement');
                feedback.innerHTML = `ğŸ“š éœ€è¦æ”¹é€²ã€‚æ‚¨ç²å¾—äº† ${score}/20 åˆ†ï¼ˆ${percentage.toFixed(1)}%ï¼‰ã€‚å»ºè­°é‡æ–°é–±è®€è©ä½œï¼Œç†è§£å…¶æ·±å±¤å«ç¾©ã€‚`;
            } else {
                feedback.classList.add('poor');
                feedback.innerHTML = `ğŸ’ª ç¹¼çºŒåŠªåŠ›ï¼æ‚¨ç²å¾—äº† ${score}/20 åˆ†ï¼ˆ${percentage.toFixed(1)}%ï¼‰ã€‚å»ºè­°å¤šè®€å¤šç·´ï¼ŒåŠ æ·±å°å®‹è©ä¿®è¾­æ‰‹æ³•çš„ç†è§£ã€‚`;
            }
        }

        function showDetailedResults(results, score) {
            const resultDiv = document.getElementById('detailedResults');
            const summary = document.getElementById('resultSummary');
            
            let html = `
                <p><strong>å­¸ç”Ÿè³‡è¨Šï¼š</strong></p>
                <ul>
                    <li>å§“åï¼š${document.getElementById('studentName').value || 'æœªå¡«å¯«'}</li>
                    <li>ç­ç´šï¼š${document.getElementById('studentClass').value || 'æœªå¡«å¯«'}</li>
                    <li>å­¸è™Ÿï¼š${document.getElementById('studentId').value || 'æœªå¡«å¯«'}</li>
                    <li>å®Œæˆæ™‚é–“ï¼š${new Date().toLocaleString('zh-TW')}</li>
                </ul>
                
                <p><strong>å„é¡Œå¾—åˆ†æƒ…æ³ï¼š</strong></p>
                <ul>
                    <li>ç¬¬1é¡Œï¼ˆä¿®è¾­æ‰‹æ³•ï¼‰ï¼š${(results.q1a ? 2 : 0) + (results.q1b ? 2 : 0) + (results.q1c ? 2 : 0)}/6åˆ†</li>
                    <li>ç¬¬2é¡Œï¼ˆçµæ§‹åˆ†æï¼‰ï¼š${(results.q2a1 ? 1 : 0) + (results.q2a2 ? 1 : 0) + (results.q2a3 ? 2 : 0) + (results.q2b1 ? 1 : 0) + (results.q2b2 ? 1 : 0) + (results.q2b3 ? 2 : 0)}/8åˆ†</li>
                    <li>ç¬¬3é¡Œï¼ˆå¿ƒç†è®ŠåŒ–ï¼‰ï¼š${results.q3 ? 2 : 0}/2åˆ†</li>
                    <li>ç¬¬4é¡Œï¼ˆä¸»æ—¨ç†è§£ï¼‰ï¼š${results.q4 ? 2 : 0}/2åˆ†</li>
                    <li>ç¬¬5é¡Œï¼ˆæƒ…æ„Ÿåˆ†æï¼‰ï¼š${(results.q5a ? 2 : 0) + (results.q5b ? 2 : 0)}/4åˆ†</li>
                </ul>
                
                <p><strong>ç¸½åˆ†ï¼š${score}/20åˆ†ï¼ˆ${((score/20)*100).toFixed(1)}%ï¼‰</strong></p>
            `;
            
            resultDiv.innerHTML = html;
            summary.classList.remove('hidden');
        }

        function resetForm() {
            // æ¸…é™¤æ‰€æœ‰è¼¸å…¥
            document.querySelectorAll('.input-field').forEach(input => {
                input.value = '';
                input.classList.remove('correct', 'incorrect');
            });
            
            document.querySelectorAll('input[type="radio"]').forEach(radio => {
                radio.checked = false;
                radio.parentElement.classList.remove('correct', 'incorrect');
            });
            
            // é‡ç½®é¡¯ç¤º
            document.getElementById('currentScore').textContent = '0';
            document.getElementById('progress').textContent = '0';
            document.getElementById('feedback').classList.add('hidden');
            document.getElementById('resultSummary').classList.add('hidden');
            document.getElementById('standardAnswers').classList.add('hidden');
            
            hasChecked = false;
            currentScore = 0;
            detailedResults = {};
            document.getElementById('showAnswersBtn').disabled = true;
        }

        function updateProgress() {
            // è¨ˆç®—å®Œæˆé€²åº¦
            let completed = 0;
            let total = 13; // ç¸½å…±13å€‹è¼¸å…¥é …ï¼ˆ10å€‹å¡«ç©º + 2å€‹é¸æ“‡ + 1å€‹æ–‡æœ¬æ¡†ç•¶ä½œ1å€‹ï¼‰
            
            document.querySelectorAll('.input-field').forEach(input => {
                if (input.value.trim()) completed++;
            });
            
            if (document.querySelector('input[name="q3"]:checked')) {
                completed++;
            }
            
            if (document.querySelector('input[name="q4"]:checked')) {
                completed++;
            }
            
            const progress = Math.round((completed / total) * 100);
            document.getElementById('progress').textContent = progress;
        }

        function previewResults() {
            const modal = document.getElementById('previewModal');
            const content = document.getElementById('previewContent');
            
            // ç”Ÿæˆé è¦½å…§å®¹
            let previewHTML = generateResultsHTML();
            content.innerHTML = previewHTML;
            
            modal.style.display = 'block';
        }

        function closePreview() {
            document.getElementById('previewModal').style.display = 'none';
        }

        function generateResultsHTML() {
            const studentName = document.getElementById('studentName').value || 'æœªå¡«å¯«';
            const studentClass = document.getElementById('studentClass').value || 'æœªå¡«å¯«';
            const studentId = document.getElementById('studentId').value || 'æœªå¡«å¯«';
            const completionTime = new Date().toLocaleString('zh-TW');
            
            return `
                <div style="font-family: 'Microsoft YaHei', SimSun, serif; line-height: 1.6;">
                    <h2 style="text-align: center; color: #007acc; border-bottom: 2px solid #007acc; padding-bottom: 10px;">
                        æ°´èª¿æ­Œé ­ç·´ç¿’äº” - ä½œç­”çµæœ
                    </h2>
                    
                    <div style="background: #f8f9fa; padding: 15px; margin: 20px 0; border-radius: 5px;">
                        <h3>ğŸ“‹ å­¸ç”Ÿè³‡è¨Š</h3>
                        <p><strong>å§“åï¼š</strong>${studentName}</p>
                        <p><strong>ç­ç´šï¼š</strong>${studentClass}</p>
                        <p><strong>å­¸è™Ÿï¼š</strong>${studentId}</p>
                        <p><strong>å®Œæˆæ™‚é–“ï¼š</strong>${completionTime}</p>
                    </div>
                    
                    <div style="background: #e8f4fd; padding: 15px; margin: 20px 0; border-radius: 5px;">
                        <h3>ğŸ“Š ä½œç­”çµæœ</h3>
                        <p><strong>ç¸½åˆ†ï¼š</strong>${hasChecked ? currentScore : 'æœªæª¢æŸ¥'}/20åˆ†</p>
                        <p><strong>æ­£ç¢ºç‡ï¼š</strong>${hasChecked ? ((currentScore/20)*100).toFixed(1) : '0'}%</p>
                    </div>
                    
                    <div style="background: #fff3cd; padding: 15px; margin: 20px 0; border-radius: 5px;">
                        <h3>âœï¸ å­¸ç”Ÿç­”æ¡ˆ</h3>
                        <h4>ç¬¬1é¡Œ ä¿®è¾­æ‰‹æ³•è¾¨è­˜ï¼š</h4>
                        <ul>
                            <li>â‘  æ˜æœˆå¹¾æ™‚æœ‰ï¼ŸæŠŠé…’å•é’å¤©ï¼š<strong>${document.getElementById('q1a').value || 'æœªä½œç­”'}</strong></li>
                            <li>â‘¡ äººæœ‰æ‚²æ­¡é›¢åˆï¼Œæœˆæœ‰é™°æ™´åœ“ç¼ºï¼š<strong>${document.getElementById('q1b').value || 'æœªä½œç­”'}</strong></li>
                            <li>â‘¢ åˆæç“Šæ¨“ç‰å®‡ï¼Œé«˜è™•ä¸å‹å¯’ï¼š<strong>${document.getElementById('q1c').value || 'æœªä½œç­”'}</strong></li>
                        </ul>
                        
                        <h4>ç¬¬2é¡Œ çµæ§‹åˆ†æï¼š</h4>
                        <ul>
                            <li>ä¸Šç‰‡ï¼š${document.getElementById('q2a1').value || 'æœªä½œç­”'} è‡³ ${document.getElementById('q2a2').value || 'æœªä½œç­”'} â€” ${document.getElementById('q2a3').value || 'æœªä½œç­”'}</li>
                            <li>ä¸‹ç‰‡ï¼š${document.getElementById('q2b1').value || 'æœªä½œç­”'} è‡³ ${document.getElementById('q2b2').value || 'æœªä½œç­”'} â€” ${document.getElementById('q2b3').value || 'æœªä½œç­”'}</li>
                        </ul>
                        
                        <h4>ç¬¬3é¡Œ å¿ƒç†è®ŠåŒ–ï¼š</h4>
                        <p><strong>${document.querySelector('input[name="q3"]:checked')?.value || 'æœªé¸æ“‡'}</strong></p>
                        
                        <h4>ç¬¬4é¡Œ ä¸»æ—¨ç†è§£ï¼š</h4>
                        <p><strong>${document.querySelector('input[name="q4"]:checked')?.value || 'æœªé¸æ“‡'}</strong></p>
                        
                        <h4>ç¬¬5é¡Œ æƒ…æ„Ÿåˆ†æï¼š</h4>
                        <ul>
                            <li>æƒ…æ„Ÿè¡¨é”ï¼š${document.getElementById('q5a').value || 'æœªä½œç­”'}</li>
                            <li>æ·±å±¤æ„ç¾©ï¼š${document.getElementById('q5b').value || 'æœªä½œç­”'}</li>
                        </ul>
                    </div>
                </div>
            `;
        }

        function downloadResults() {
            const resultsHTML = generateResultsHTML();
            
            // å‰µå»ºå®Œæ•´çš„HTMLæ–‡æª”
            const fullHTML = `
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ°´èª¿æ­Œé ­ç·´ç¿’çµæœ - ${document.getElementById('studentName').value || 'å­¸ç”Ÿ'}</title>
    <style>
        body { font-family: "Microsoft YaHei", SimSun, serif; line-height: 1.6; max-width: 800px; margin: 0 auto; padding: 20px; }
        h2, h3 { color: #007acc; }
        .info-box { background: #f8f9fa; padding: 15px; margin: 20px 0; border-radius: 5px; border-left: 4px solid #007acc; }
        .answer-box { background: #fff3cd; padding: 15px; margin: 20px 0; border-radius: 5px; border-left: 4px solid #ffc107; }
        .score-box { background: #e8f4fd; padding: 15px; margin: 20px 0; border-radius: 5px; border-left: 4px solid #17a2b8; }
        ul { padding-left: 20px; }
        li { margin: 8px 0; }
        strong { color: #d63384; }
        @media print { body { margin: 0; padding: 10px; } }
    </style>
</head>
<body>
    ${resultsHTML}
    <div style="margin-top: 40px; text-align: center; color: #6c757d; font-size: 12px;">
        <p>æœ¬çµæœç”±æ°´èª¿æ­Œé ­åœ¨ç·šç·´ç¿’ç³»çµ±è‡ªå‹•ç”Ÿæˆ | ç”Ÿæˆæ™‚é–“ï¼š${new Date().toLocaleString('zh-TW')}</p>
    </div>
</body>
</html>
            `;
            
            // å‰µå»ºä¸‹è¼‰
            const blob = new Blob([fullHTML], { type: 'text/html;charset=utf-8' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            
            const studentName = document.getElementById('studentName').value || 'å­¸ç”Ÿ';
            const timestamp = new Date().toISOString().slice(0, 10);
            
            a.href = url;
            a.download = `æ°´èª¿æ­Œé ­ç·´ç¿’çµæœ_${studentName}_${timestamp}.html`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            alert('âœ… çµæœå·²ä¸‹è¼‰ï¼æ‚¨å¯ä»¥ç”¨ç€è¦½å™¨æ‰“é–‹ä¸‹è¼‰çš„æ–‡ä»¶æŸ¥çœ‹å®Œæ•´çµæœã€‚');
        }

        function printResults() {
            window.print();
        }

        // äº‹ä»¶ç›£è½å™¨
        document.addEventListener('input', updateProgress);
        document.addEventListener('change', updateProgress);

        // é»æ“Šæ¨¡æ…‹æ¡†å¤–éƒ¨é—œé–‰
        window.onclick = function(event) {
            const modal = document.getElementById('previewModal');
            if (event.target === modal) {
                closePreview();
            }
        }

        // é˜²æ­¢é é¢åˆ·æ–°æ™‚ä¸Ÿå¤±æ•¸æ“š
        window.addEventListener('beforeunload', function(e) {
            const hasContent = document.querySelector('.input-field[value]') || 
                              document.querySelector('input[type="radio"]:checked');
            if (hasContent && !hasChecked) {
                e.preventDefault();
                e.returnValue = '';
            }
        });

        // é é¢åŠ è¼‰å®Œæˆå¾Œçš„åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            console.log('é é¢åŠ è¼‰å®Œæˆï¼Œæ°´èª¿æ­Œé ­ç·´ç¿’ç³»çµ±å·²å°±ç·’');
            updateProgress();
        });
    </script>
</body>
</html>