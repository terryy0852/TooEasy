{% extends 'base.html' %}

{% block title %}{{ _('Assignment Submitted Successfully') }} - {{ _('Assignment Management System') }}{% endblock %}

{% block content %}
<div class="submission-success" style="text-align: center; max-width: 600px; margin: 0 auto; padding: 2rem;">
    <h2 style="color: var(--primary-color); margin-bottom: 1.5rem;">{{ _('Assignment submitted successfully!') }}</h2>
    <p style="margin-bottom: 2rem;">{{ _('Your assignment has been submitted. Please wait for grading.') }}</p>
    
    <div style="margin-bottom: 2rem;">
        <i class="fas fa-check-circle" style="font-size: 3rem; color: #28a745; margin-bottom: 1rem;"></i>
    </div>
    
    <div style="text-align: center;">
        <p style="margin-bottom: 1.5rem;">{{ _('This window will close automatically in 3 seconds.') }}</p>
    </div>
</div>

<script>
    // Close the current window after a short delay
    setTimeout(function() {
        // Try to refresh the opener window if it exists
        if (window.opener && !window.opener.closed) {
            // Redirect the opener to the view assignment page
            window.opener.location.href = '{{ url_for('view_assignment', assignment_id=assignment_id) }}';
        }
        
        // Close the current window
        window.close();
    }, 3000);
</script>
{% endblock %}