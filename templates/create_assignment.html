{% extends "base.html" %}

{% block title %}Create Assignment{% endblock %}

{% block content %}
<h1>{{ _('Create New Assignment') }}</h1>

<div class="create-assignment-form">
    <form method="POST" action="{{ url_for('create_assignment') }}" enctype="multipart/form-data">
        <div class="form-group">
            <label for="title">{{ _('Title') }}</label>
            <input type="text" id="title" name="title" required>
        </div>
        
        <div class="form-group">
            <label for="description">{{ _('Description') }}</label>
            <textarea id="description" name="description" rows="6" required></textarea>
        </div>
        
        <div class="form-group">
            <label for="html_file">{{ _('HTML File') }}</label>
            <input type="file" id="html_file" name="html_file" accept=".html" required>
            <small style="color: #666; font-size: 0.9em;">{{ _('Upload an HTML file for interactive assignment') }}</small>
        </div>
        
        <div class="form-group">
            <label for="due_date">{{ _('Due Date (Optional)') }}</label>
            <input type="datetime-local" id="due_date" name="due_date">
        </div>
        
        <div class="form-group">
            <label for="student_ids">{{ _('Assign to Students') }}</label>
            <select id="student_ids" name="student_ids" multiple size="5" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                {% for student in students %}
                <option value="{{ student.id }}">{{ student.username }} ({{ student.email }})</option>
                {% endfor %}
            </select>
            <small style="color: #666; font-size: 0.9em;">{{ _('Hold Ctrl (or Cmd on Mac) to select multiple students. If none selected, assignment will be given to all students.') }}</small>
        </div>
        
        <div class="form-group">
            <label for="is_active">{{ _('Active') }}</label>
            <input type="checkbox" id="is_active" name="is_active" checked>
        </div>
        
        <button type="submit" class="create-btn">{{ _('Create Assignment') }}</button>
    </form>
    
    <div class="back-link">
        <a href="{{ url_for('student_dashboard') }}">{{ _('Back to Dashboard') }}</a>
    </div>
</div>

<style>
.create-assignment-form {
    max-width: 600px;
    margin: 0 auto;
    background-color: #f9f9f9;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.form-group {
    margin-bottom: 20px;
}

.form-group label {
    display: block;
    margin-bottom: 5px;
    font-weight: bold;
    color: #333;
}

.form-group input[type="text"],
.form-group input[type="datetime-local"],
.form-group input[type="file"],
.form-group textarea,
.form-group select {
    width: 100%;
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-size: 16px;
    box-sizing: border-box;
}

.form-group textarea {
    resize: vertical;
    min-height: 120px;
}

.form-group input[type="checkbox"] {
    margin-top: 5px;
    transform: scale(1.2);
}

.create-btn {
    display: inline-block;
    padding: 12px 24px;
    background-color: #4a6fa5;
    color: white;
    text-decoration: none;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 16px;
    font-weight: bold;
    width: 100%;
    box-sizing: border-box;
}

.create-btn:hover {
    background-color: #3a5a85;
}

.back-link {
    text-align: center;
    margin-top: 20px;
}

.back-link a {
    color: #4a6fa5;
    text-decoration: none;
    font-weight: bold;
}

.back-link a:hover {
    text-decoration: underline;
}
</style>
{% endblock %}